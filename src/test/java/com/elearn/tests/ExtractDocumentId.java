package com.elearn.tests;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Random;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class ExtractDocumentId {

	public static void main(String[] args) {
		String response = "[{\"dateUpdated\":\"2014-07-22T09:34:53Z\",\"dateCreated\":\"2014-07-22T09:34:48Z\",\"id\":1280,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T09:50:45Z\",\"dateCreated\":\"2014-07-22T09:50:43Z\",\"id\":1536,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:52:33Z\",\"dateCreated\":\"2014-07-22T10:52:30Z\",\"id\":2560,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T11:07:17Z\",\"dateCreated\":\"2014-07-22T11:07:14Z\",\"id\":2816,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T09:18:41Z\",\"dateCreated\":\"2014-07-22T09:18:39Z\",\"id\":1025,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T09:34:57Z\",\"dateCreated\":\"2014-07-22T09:34:54Z\",\"id\":1281,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:37:19Z\",\"dateCreated\":\"2014-07-22T10:37:17Z\",\"id\":2305,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:52:36Z\",\"dateCreated\":\"2014-07-22T10:52:34Z\",\"id\":2561,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T09:00:05Z\",\"dateCreated\":\"2014-07-22T09:00:01Z\",\"id\":770,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T09:18:45Z\",\"dateCreated\":\"2014-07-22T09:18:43Z\",\"id\":1026,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:21:58Z\",\"dateCreated\":\"2014-07-22T10:21:56Z\",\"id\":2050,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:37:23Z\",\"dateCreated\":\"2014-07-22T10:37:21Z\",\"id\":2306,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T09:00:10Z\",\"dateCreated\":\"2014-07-22T09:00:06Z\",\"id\":771,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:06:34Z\",\"dateCreated\":\"2014-07-22T10:06:32Z\",\"id\":1795,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:22:02Z\",\"dateCreated\":\"2014-07-22T10:21:59Z\",\"id\":2051,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T11:22:53Z\",\"dateCreated\":\"2014-07-22T11:22:51Z\",\"id\":3075,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T09:50:59Z\",\"dateCreated\":\"2014-07-22T09:50:57Z\",\"id\":1540,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T10:06:38Z\",\"dateCreated\":\"2014-07-22T10:06:36Z\",\"id\":1796,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T11:07:30Z\",\"dateCreated\":\"2014-07-22T11:07:28Z\",\"id\":2820,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"},{\"dateUpdated\":\"2014-07-22T11:22:57Z\",\"dateCreated\":\"2014-07-22T11:22:55Z\",\"id\":3076,\"accessLevel\":4,\"name\":\"???????????????????????\",\"isFavorite\":false,\"spaceId\":733,\"class\":\"Document\",\"resourceType\":\"Other\",\"format\":\"Powerpoint\"}]";
		Pattern p = Pattern.compile(".+?\"id\":(\\d+).+?\"class\":\"Document\".+?");
		Matcher m = p.matcher(response);
		List<String> ids = new ArrayList<String>();
		while (m.find()) {
			System.out.println("M: " + m.group(1));
			ids.add(m.group(1));
		}
		Iterator<String> it = ids.iterator();
		while (it.hasNext()) {
			System.out.println("L: " + it.next());
		}
		Random rnd = new Random();
		System.out.println("R: " + ids.get(rnd.nextInt(ids.size())));
	}

}
